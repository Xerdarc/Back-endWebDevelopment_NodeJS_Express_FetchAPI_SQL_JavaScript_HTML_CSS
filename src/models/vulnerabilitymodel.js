// import the pool settings
const pool = require("../services/db")

// ========== SELECT ==========
module.exports.select = (callback) => {
	const SQL = `
	SELECT * FROM vulnerabilities
	`
	pool.query(SQL, callback)
}

// ========== INSERT ==========
module.exports.insert = (data, callback) => {
	const SQL = `
	INSERT INTO vulnerabilities (type, description, points, user_id)
	VALUES (?, ?, ?, ?)
	`
	const VALUES = [data.type, data.description, data.points, data.user_id]
	pool.query(SQL, VALUES, callback)
}

// ========== FOR QUESTS ==========
module.exports.credits = (data, callback) => {
	const SQL = `
	UPDATE users
	SET credits = users.credits + 50
	WHERE id = ?
	`
	const VALUES = [data.user_id]
	pool.query(SQL, VALUES, callback)
}